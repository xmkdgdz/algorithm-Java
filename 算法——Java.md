# ç®—æ³•â€”â€”Java

![çº¿æ€§æ•°æ®ç»“æ„ä¸éçº¿æ€§æ•°æ®ç»“æ„](https://www.hello-algo.com/chapter_data_structure/classification_of_data_structure.assets/classification_logic_structure.png)

## æ•°ç»„ï¼ˆarrayï¼‰

```java
// åˆå§‹åŒ–
int[] array = new int[5]; // é»˜è®¤å€¼ä¸º 0
// å…ƒç´ èµ‹å€¼
array[0] = 2;

// åˆå§‹åŒ–
int[] array = {2, 3, 1, 0, 2};

// éå†æ•°ç»„
// é€šè¿‡ç´¢å¼•éå†æ•°ç»„
for (int i = 0; i < array.length; i++)
// ç›´æ¥éå†æ•°ç»„å…ƒç´ 
for (int i : array)
    
// å¤åˆ¶æ•°ç»„
int[] copy = Arrays.copyOf(numbers, numbers.length);  // å¤åˆ¶æ•´ä¸ªæ•°ç»„
int[] partialCopy = Arrays.copyOfRange(numbers, 1, 4);  // å¤åˆ¶éƒ¨åˆ†æ•°ç»„ [1, 4)

// å¡«å……æ•°ç»„
Arrays.fill(array, 0);  // ç”¨ 0 å¡«å……æ•´ä¸ªæ•°ç»„
Arrays.fill(array, 1, 4, 5);  // ä»ç´¢å¼• 1 åˆ° 4ï¼ˆä¸åŒ…æ‹¬4ï¼‰å¡«å…… 5

// æ’åºæ•°ç»„ï¼ˆç›´æ¥ä¿®æ”¹åŸæ•°ç»„ï¼‰
Arrays.sort(array);  // å¯¹æ•°ç»„è¿›è¡Œå‡åºæ’åº
Arrays.sort(array, Collections.reverseOrder()); // é™åºæ’åº
```

å†…å­˜åœ°å€è¿ç»­ï¼Œå¯ä»¥å­˜å‚¨å›ºå®šå¤§å°çš„ç›¸åŒç±»å‹çš„å…ƒç´ 

- **ä¼˜ç‚¹ï¼š** éšæœºè®¿é—®å…ƒç´ æ•ˆç‡é«˜ã€‚
- **ç¼ºç‚¹ï¼š** å¤§å°å›ºå®šï¼Œæ’å…¥å’Œåˆ é™¤å…ƒç´ ç›¸å¯¹è¾ƒæ…¢ã€‚

> æ’å…¥å’Œåˆ é™¤éœ€è¦æ”¹å˜åé¢çš„æ‰€æœ‰å…ƒç´ 

### String ç±»

> ç±»ä¼¼æ•°ç»„

```java
// åˆ›å»º
String s1 = "Runoob";              // String ç›´æ¥åˆ›å»º
String s2 = "Runoob";              // String ç›´æ¥åˆ›å»º
String s3 = s1; 
s1 == s2 == s3;                     // ç›¸åŒå¼•ç”¨
String s4 = new String("Runoob");   // String å¯¹è±¡åˆ›å»º
String s5 = new String("Runoob");   // String å¯¹è±¡åˆ›å»º
s4 != s5;                           // ä¸åŒå¯¹è±¡

// è¿æ¥å­—ç¬¦ä¸²
string1.concat(string2);
string1 + string2 + "!";

// æ ¼å¼åŒ–å­—ç¬¦ä¸²
String fs;
fs = String.format("æµ®ç‚¹å‹å˜é‡çš„å€¼ä¸º " +
                   "%f, æ•´å‹å˜é‡çš„å€¼ä¸º " +
                   " %d, å­—ç¬¦ä¸²å˜é‡çš„å€¼ä¸º " +
                   " %s", floatVar, intVar, stringVar);

// æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å†…å®¹æ˜¯å¦ç›¸åŒã€‚
boolean equals(Object anObject);
    
// æŒ‰å­—å…¸é¡ºåºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²
int compareTo(String anotherString); // æ­£æ•°ï¼šå½“å‰å¯¹è±¡å¤§
int compareToIgnoreCase(String str); // ä¸è€ƒè™‘å¤§å°å†™
    
// è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œå®ƒæ˜¯é€šè¿‡ç”¨ newChar æ›¿æ¢æ­¤å­—ç¬¦ä¸²ä¸­å‡ºç°çš„æ‰€æœ‰ oldChar å¾—åˆ°çš„
String replace(char oldChar, char newChar);

char[] toCharArray();

String substring(int beginIndex)
String substring(int beginIndex, int endIndex) 
    
// è½¬åŒ–ä¸ºå­—ç¬¦ä¸²
String str = String.valueOf(number); // ä»»ä½•åŸºæœ¬æ•°æ®ç±»å‹æˆ–å¯¹è±¡
Integer.toString(number); // æ•´æ•°

```

![img](https://www.runoob.com/wp-content/uploads/2013/12/java-string-1-2020-12-01.png)

**æ³¨æ„:**String ç±»æ˜¯ä¸å¯æ”¹å˜çš„ï¼Œæ‰€ä»¥ä½ ä¸€æ—¦åˆ›å»ºäº† String å¯¹è±¡ï¼Œé‚£å®ƒçš„å€¼å°±æ— æ³•æ”¹å˜äº†ã€‚æ”¹å˜å®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¼šå¢åŠ æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚

å¦‚æœéœ€è¦å¯¹å­—ç¬¦ä¸²åšå¾ˆå¤šä¿®æ”¹ï¼Œé‚£ä¹ˆåº”è¯¥é€‰æ‹©ä½¿ç”¨ [StringBuffer & StringBuilder ç±»](https://www.runoob.com/java/java-stringbuffer.html)ã€‚

* StringBuilder ç›¸è¾ƒäº StringBuffer æœ‰é€Ÿåº¦ä¼˜åŠ¿
* StringBuilder çš„æ–¹æ³•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„

```java
public class RunoobTest{
    public static void main(String args[]){
        StringBuilder sb = new StringBuilder(10); // ä¹Ÿå¯ä»¥ä¸æŒ‡å®šå¤§å°
        sb.append("Runoob.."); 
        System.out.println(sb); // Runoob..
        sb.append("!");
        System.out.println(sb); // Runoob..!
        sb.insert(8, "Java");
        System.out.println(sb); // Runoob..Java!
        sb.delete(5,8);
        System.out.println(sb); // RunooJava!
        sb.deleteCharAt(2); // åˆ é™¤æŸä¸ª
        sb.toString();
    }
}
```

## é“¾è¡¨

```java
/* é“¾è¡¨èŠ‚ç‚¹ç±» */
class ListNode {
    int val;        // èŠ‚ç‚¹å€¼
    ListNode next;  // æŒ‡å‘ä¸‹ä¸€èŠ‚ç‚¹çš„å¼•ç”¨
    ListNode(int x) { val = x; }  // æ„é€ å‡½æ•°
}
```

æ•°ç»„ä¸é“¾è¡¨çš„æ•ˆç‡å¯¹æ¯”

|          | æ•°ç»„                           | é“¾è¡¨           |
| :------- | :----------------------------- | :------------- |
| å­˜å‚¨æ–¹å¼ | è¿ç»­å†…å­˜ç©ºé—´                   | åˆ†æ•£å†…å­˜ç©ºé—´   |
| å®¹é‡æ‰©å±• | é•¿åº¦ä¸å¯å˜                     | å¯çµæ´»æ‰©å±•     |
| å†…å­˜æ•ˆç‡ | å…ƒç´ å ç”¨å†…å­˜å°‘ã€ä½†å¯èƒ½æµªè´¹ç©ºé—´ | å…ƒç´ å ç”¨å†…å­˜å¤š |
| è®¿é—®å…ƒç´  | ğ‘‚(1)                           | ğ‘‚(ğ‘›)           |
| æ·»åŠ å…ƒç´  | ğ‘‚(ğ‘›)                           | ğ‘‚(1)           |
| åˆ é™¤å…ƒç´  | ğ‘‚(ğ‘›)                           | ğ‘‚(1)           |

**æ‰€æœ‰æ•°æ®ç»“æ„éƒ½æ˜¯åŸºäºæ•°ç»„ã€é“¾è¡¨æˆ–äºŒè€…çš„ç»„åˆå®ç°çš„**ã€‚

## åˆ—è¡¨ï¼ˆListsï¼‰

åˆ—è¡¨å¯ä»¥åŸºäºé“¾è¡¨æˆ–æ•°ç»„å®ç°

```java
/* List è½¬æ¢ä¸ºæ•°ç»„ */
Object[] array = list.toArray();
String[] stringArray = list.toArray(new String[0]);

/* ä¸èƒ½ç›´æ¥è½¬åŒ–ä¸º int[]ï¼Œåªèƒ½éå† */
int[] array = new int[list.size()];
// æ‰‹åŠ¨éå†èµ‹å€¼
for (int i = 0; i < list.size(); i++) {
    array[i] = list.get(i);
}
```

**ArrayList:**

```java
List<Integer> nums = new ArrayList<>();

/* æ¸…ç©ºåˆ—è¡¨ */
nums.clear();

/* åœ¨å°¾éƒ¨æ·»åŠ å…ƒç´  */
nums.add(1);

/* åœ¨ä¸­é—´æ’å…¥å…ƒç´  */
// åœ¨ç´¢å¼• 3 å¤„æ’å…¥æ•°å­— 6ï¼Œåé¢çš„å†…å®¹ä¼šåç§»ï¼Œä¸èƒ½è¶…å‡ºç°æœ‰ç´¢å¼•èŒƒå›´
nums.add(3, 6);  

/* åˆ é™¤å…ƒç´  */
nums.remove(3);  // åˆ é™¤ç´¢å¼• 3 å¤„çš„å…ƒç´ ï¼ŒåŒä¸Š
.remove(Object o) // åˆ é™¤é¦–æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ ã€‚

/* è®¿é—®å…ƒç´  */
nums.get(1);  // è®¿é—®ç¬¬äºŒä¸ªå…ƒç´ 

/* ä¿®æ”¹å…ƒç´  */
.set()	æ›¿æ¢ arraylist ä¸­æŒ‡å®šç´¢å¼•çš„å…ƒç´ 
    
// è¿­ä»£å…ƒç´ 
for (Integer i : nums)

/* æ’åº */
Collections.sort(nums);

nums.contains(1);	// åˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨ arraylist
nums.size();
.toArray()	// å°† arraylist è½¬æ¢ä¸ºæ•°ç»„
.toString()	// å°† arraylist è½¬æ¢ä¸ºå­—ç¬¦ä¸²
```

- **ç‰¹ç‚¹ï¼š** åŠ¨æ€æ•°ç»„ï¼Œå¯å˜å¤§å°ã€‚

> æœ¬è´¨æ˜¯æ•°ç»„ï¼Œæ‰€ä»¥åŒ…å«æ•°ç»„çš„æ€§è´¨å’Œæ’å…¥åˆ é™¤åŸç†

- **ä¼˜ç‚¹ï¼š** é«˜æ•ˆçš„éšæœºè®¿é—®å’Œå¿«é€Ÿå°¾éƒ¨æ’å…¥ã€‚
- **ç¼ºç‚¹ï¼š** ä¸­é—´æ’å…¥å’Œåˆ é™¤ç›¸å¯¹è¾ƒæ…¢ã€‚

**LinkedList:**

```java
List<String> sites = new LinkedList<>();

// å‘åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´ ï¼Œå¯ä»¥æŒ‡å®šç´¢å¼•
sites.add("Google"); 
// åœ¨åˆ—è¡¨å¼€å¤´æ·»åŠ å…ƒç´ 
sites.addFirst("Wiki");
// åœ¨åˆ—è¡¨ç»“å°¾æ·»åŠ å…ƒç´ 
sites.addLast("Wiki");

sites.remove(); // åˆ é™¤å¹¶è¿”å›åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥æŒ‡å®šç´¢å¼•
.remove(Object o) // åˆ é™¤é¦–æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ ã€‚
sites.removeFirst();
sites.removeLast();

get(int index) // è¿”å›æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚
sites.getFirst()
sites.getLast()
    
// è¿­ä»£å…ƒç´ 
for (String i : sites)
    
// res.append(path) ï¼Œåˆ™æ˜¯å°†æ­¤ path å¯¹è±¡åŠ å…¥äº† res ï¼›åç»­ path æ”¹å˜æ—¶ï¼Œ res ä¸­çš„ path å¯¹è±¡ä¹Ÿä¼šéšä¹‹æ”¹å˜ï¼Œå› æ­¤æ— æ³•å®ç°ç»“æœè®°å½•
// æ­£ç¡®åšæ³•
res.add(new LinkedList(path))
```

- **ç‰¹ç‚¹ï¼š** åŒå‘é“¾è¡¨ï¼Œå…ƒç´ ä¹‹é—´é€šè¿‡æŒ‡é’ˆè¿æ¥ã€‚
- **ä¼˜ç‚¹ï¼š** æ’å…¥å’Œåˆ é™¤å…ƒç´ é«˜æ•ˆï¼Œè¿­ä»£å™¨æ€§èƒ½å¥½ã€‚
- **ç¼ºç‚¹ï¼š** éšæœºè®¿é—®ç›¸å¯¹è¾ƒæ…¢ã€‚

## æ ˆï¼ˆstackï¼‰

å…ˆå…¥åå‡º

Javaæ ‡å‡†åº“æä¾›äº†`java.util.Stack`ç±»æ¥å®ç°æ ˆï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ›´æ¨èä½¿ç”¨`java.util.Deque`æ¥å£åŠå…¶å®ç°ç±»`java.util.ArrayDeque`å’Œ`java.util.LinkedList`æ¥å®ç°æ ˆã€‚

`ArrayDeque`æ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„çš„åŒç«¯é˜Ÿåˆ—

`LinkedList`æ˜¯ä¸€ä¸ªåŸºäºé“¾è¡¨çš„åŒç«¯é˜Ÿåˆ—

åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œ`ArrayDeque`æ˜¯æ›´å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒåœ¨å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½ä¸Šé€šå¸¸ä¼˜äº`LinkedList`ã€‚ç„¶è€Œï¼Œå¦‚æœä½ éœ€è¦åœ¨åˆ—è¡¨ä¸­é—´é¢‘ç¹æ’å…¥å’Œåˆ é™¤å…ƒç´ ï¼Œ`LinkedList`å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚

```java
// ä½¿ç”¨ArrayDequeå®ç°æ ˆ
Deque<Integer> stack = new ArrayDeque<>();

// ä½¿ç”¨LinkedListå®ç°æ ˆ
Deque<Integer> stack2 = new LinkedList<>();
```

|          |                        |
| -------- | ---------------------- |
| `push()` | å…ƒç´ å…¥æ ˆï¼ˆæ·»åŠ è‡³æ ˆé¡¶ï¼‰ |
| `pop()`  | æ ˆé¡¶å…ƒç´ å‡ºæ ˆ           |
| `peek()` | è®¿é—®æ ˆé¡¶å…ƒç´            |

## é˜Ÿåˆ—ï¼ˆqueueï¼‰

å…ˆå…¥å…ˆå‡º

| æŠ›å‡ºå¼‚å¸¸  | è¿”å›ç‰¹æ®Šå€¼(ç”¨è¿™ä¸ª) |
| :-------- | ------------------ |
| add(e)    | offer(e)           |
| remove()  | poll()             |
| element() | peek()             |

### åŒå‘é˜Ÿåˆ—(Deque)

```java
/* åˆå§‹åŒ–åŒå‘é˜Ÿåˆ— */
Deque<Integer> deque = new LinkedList<>();

/* å…ƒç´ å…¥é˜Ÿ */
deque.offerLast(2);   // æ·»åŠ è‡³é˜Ÿå°¾
deque.offerLast(5);
deque.offerLast(4);
deque.offerFirst(3);  // æ·»åŠ è‡³é˜Ÿé¦–
deque.offerFirst(1);

/* è®¿é—®å…ƒç´  */
int peekFirst = deque.peekFirst();  // é˜Ÿé¦–å…ƒç´ 
int peekLast = deque.peekLast();    // é˜Ÿå°¾å…ƒç´ 

/* å…ƒç´ å‡ºé˜Ÿ */
int pollFirst = deque.pollFirst();  // é˜Ÿé¦–å…ƒç´ å‡ºé˜Ÿ
int pollLast = deque.pollLast();    // é˜Ÿå°¾å…ƒç´ å‡ºé˜Ÿ

/* è·å–åŒå‘é˜Ÿåˆ—çš„é•¿åº¦ */
int size = deque.size();

/* åˆ¤æ–­åŒå‘é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º */
boolean isEmpty = deque.isEmpty();
```

### ä¼˜å…ˆé˜Ÿåˆ—(Priority Queue)

åŸºäºå †ï¼ˆHeapï¼‰å®ç°

```java
/* åˆå§‹åŒ–å † */
// åˆå§‹åŒ–å°é¡¶å †
Queue<Integer> minHeap = new PriorityQueue<>();
// åˆå§‹åŒ–å¤§é¡¶å †ï¼ˆä½¿ç”¨ lambda è¡¨è¾¾å¼ä¿®æ”¹ Comparator å³å¯ï¼‰
Queue<Integer> maxHeap = new PriorityQueue<>((a, b) -> b - a);

/* å…ƒç´ å…¥å † */
maxHeap.offer(1);
maxHeap.offer(3);
maxHeap.offer(2);
maxHeap.offer(5);
maxHeap.offer(4);

/* è·å–å †é¡¶å…ƒç´  */
int peek = maxHeap.peek(); // 5

/* å †é¡¶å…ƒç´ å‡ºå † */
// å‡ºå †å…ƒç´ ä¼šå½¢æˆä¸€ä¸ªä»å¤§åˆ°å°çš„åºåˆ—
peek = maxHeap.poll(); // 5
peek = maxHeap.poll(); // 4
peek = maxHeap.poll(); // 3
peek = maxHeap.poll(); // 2
peek = maxHeap.poll(); // 1

/* è·å–å †å¤§å° */
int size = maxHeap.size();

/* åˆ¤æ–­å †æ˜¯å¦ä¸ºç©º */
boolean isEmpty = maxHeap.isEmpty();
```

## å“ˆå¸Œé›†åˆ(Set)

**HashSet:**

- **ç‰¹ç‚¹ï¼š** æ— åºé›†åˆï¼ŒåŸºäºHashMapå®ç°ã€‚
- **ä¼˜ç‚¹ï¼š** é«˜æ•ˆçš„æŸ¥æ‰¾å’Œæ’å…¥æ“ä½œã€‚
- **ç¼ºç‚¹ï¼š** ä¸ä¿è¯é¡ºåºã€‚

**TreeSet:**

- **ç‰¹ç‚¹ï¼š**TreeSet æ˜¯æœ‰åºé›†åˆï¼Œåº•å±‚åŸºäºçº¢é»‘æ ‘å®ç°ï¼Œä¸å…è®¸é‡å¤å…ƒç´ ã€‚
- **ä¼˜ç‚¹ï¼š** æä¾›è‡ªåŠ¨æ’åºåŠŸèƒ½ï¼Œé€‚ç”¨äºéœ€è¦æŒ‰é¡ºåºå­˜å‚¨å…ƒç´ çš„åœºæ™¯ã€‚
- **ç¼ºç‚¹ï¼š** æ€§èƒ½ç›¸å¯¹è¾ƒå·®ï¼Œä¸å…è®¸æ’å…¥ null å…ƒç´ ã€‚

```java
Set<String> hashSet = new HashSet<>();
Set<Integer> treeSet = new TreeSet<>(); // æ­£åº

sites.add("Google");
sites.add("Runoob");
sites.add("Runoob");  // é‡å¤çš„å…ƒç´ ä¸ä¼šè¢«æ·»åŠ 

sites.remove("Taobao");  // åˆ é™¤å…ƒç´ ï¼Œåˆ é™¤æˆåŠŸè¿”å› trueï¼Œå¦åˆ™ä¸º false

sites.contains("Taobao");

sites.clear();  

for (String i : sites) {
    System.out.println(i);
}

treeSet.first()
treeSet.last()
```

## å“ˆå¸Œè¡¨(Map)

```java
/* åˆå§‹åŒ–å“ˆå¸Œè¡¨ */
Map<Integer, String> map = new HashMap<>();
Map<Integer, String> map = new TreeMap<>(); // åŸºäºçº¢é»‘æ ‘å®ç°çš„ï¼Œè‡ªåŠ¨æ’åº
Map<Integer, String> map = new LinkedHashMap<>(); // æœ‰åºå“ˆå¸Œè¡¨ï¼Œç»´æŠ¤äº†æ’å…¥æ—¶çš„é¡ºåº
Map<Integer, String> map = new Hashtable<>(); // çº¿ç¨‹å®‰å…¨ï¼Œä¸å…è®¸ null å€¼

/* æ·»åŠ æ“ä½œ */
// åœ¨å“ˆå¸Œè¡¨ä¸­æ·»åŠ é”®å€¼å¯¹ (key, value)
map.put(12836, "å°å“ˆ");
map.put(15937, "å°å•°");
map.put(16750, "å°ç®—");
map.put(13276, "å°æ³•");
map.put(10583, "å°é¸­");

/* æŸ¥è¯¢æ“ä½œ */
// å‘å“ˆå¸Œè¡¨ä¸­è¾“å…¥é”® key ï¼Œå¾—åˆ°å€¼ value
String name = map.get(15937); // ä¸åŒ…å«è¿”å› null

/* åˆ é™¤æ“ä½œ */
// åœ¨å“ˆå¸Œè¡¨ä¸­åˆ é™¤é”®å€¼å¯¹ (key, value)
map.remove(10583);

boolean hasName = map.containsKey(12836);  // è¿”å› true
boolean hasValue = map.containsValue("å°å“ˆ");  // è¿”å› true

/* éå†å“ˆå¸Œè¡¨ */
// éå†é”®å€¼å¯¹ key->value
for (Map.Entry <Integer, String> kv: map.entrySet()) {
    System.out.println(kv.getKey() + " -> " + kv.getValue());
}
// å•ç‹¬éå†é”® key
for (int key: map.keySet()) {
    System.out.println(key);
}
// å•ç‹¬éå†å€¼ value
for (String val: map.values()) {
    System.out.println(val);
}

map.clear();  // ç§»é™¤æ‰€æœ‰çš„é”®å€¼å¯¹
```

## æ ‘

### äºŒå‰æ ‘

```java
/* äºŒå‰æ ‘èŠ‚ç‚¹ç±» */
class TreeNode {
    int val;         // èŠ‚ç‚¹å€¼
    TreeNode left;   // å·¦å­èŠ‚ç‚¹å¼•ç”¨
    TreeNode right;  // å³å­èŠ‚ç‚¹å¼•ç”¨
    TreeNode(int x) { val = x; }
}
```

![å®Œç¾äºŒå‰æ ‘](https://www.hello-algo.com/chapter_tree/binary_tree.assets/perfect_binary_tree.png)

![å®Œå…¨äºŒå‰æ ‘](https://www.hello-algo.com/chapter_tree/binary_tree.assets/complete_binary_tree.png)

![å®Œæ»¡äºŒå‰æ ‘](https://www.hello-algo.com/chapter_tree/binary_tree.assets/full_binary_tree.png)

![å¹³è¡¡äºŒå‰æ ‘](https://www.hello-algo.com/chapter_tree/binary_tree.assets/balanced_binary_tree.png)

**å±‚åºéå†**ï¼šä»é¡¶éƒ¨åˆ°åº•éƒ¨é€å±‚éå†äºŒå‰æ ‘ï¼Œå¹¶åœ¨æ¯ä¸€å±‚æŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºè®¿é—®èŠ‚ç‚¹ã€‚æ˜¯å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆbreadth-first search, BFSï¼‰

å¹¿åº¦ä¼˜å…ˆéå†é€šå¸¸å€ŸåŠ©â€œé˜Ÿåˆ—â€å®ç°

```java
/* å±‚åºéå† */
List<Integer> levelOrder(TreeNode root) {
    // åˆå§‹åŒ–é˜Ÿåˆ—ï¼ŒåŠ å…¥æ ¹èŠ‚ç‚¹
    Queue<TreeNode> queue = new LinkedList<>();
    queue.add(root);
    // åˆå§‹åŒ–ä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨äºä¿å­˜éå†åºåˆ—
    List<Integer> list = new ArrayList<>();
    while (!queue.isEmpty()) {
        TreeNode node = queue.poll(); // é˜Ÿåˆ—å‡ºé˜Ÿ
        list.add(node.val);           // ä¿å­˜èŠ‚ç‚¹å€¼
        if (node.left != null)
            queue.offer(node.left);   // å·¦å­èŠ‚ç‚¹å…¥é˜Ÿ
        if (node.right != null)
            queue.offer(node.right);  // å³å­èŠ‚ç‚¹å…¥é˜Ÿ
    }
    return list;
}
```

**å‰åºã€ä¸­åºå’Œååºéå†**ï¼šç»•ç€æ•´æ£µäºŒå‰æ ‘çš„å¤–å›´â€œèµ°â€ä¸€åœˆï¼Œâ€œå…ˆèµ°åˆ°å°½å¤´ï¼Œå†å›æº¯ç»§ç»­â€ã€‚æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆdepth-first search, DFSï¼‰

æ·±åº¦ä¼˜å…ˆæœç´¢é€šå¸¸åŸºäºé€’å½’å®ç°

```java
/* å‰åºéå† */
void preOrder(TreeNode root) {
    if (root == null)
        return;
    // è®¿é—®ä¼˜å…ˆçº§ï¼šæ ¹èŠ‚ç‚¹ -> å·¦å­æ ‘ -> å³å­æ ‘
    list.add(root.val);
    preOrder(root.left);
    preOrder(root.right);
}

/* ä¸­åºéå† */
void inOrder(TreeNode root) {
    if (root == null)
        return;
    // è®¿é—®ä¼˜å…ˆçº§ï¼šå·¦å­æ ‘ -> æ ¹èŠ‚ç‚¹ -> å³å­æ ‘
    inOrder(root.left);
    list.add(root.val);
    inOrder(root.right);
}

/* ååºéå† */
void postOrder(TreeNode root) {
    if (root == null)
        return;
    // è®¿é—®ä¼˜å…ˆçº§ï¼šå·¦å­æ ‘ -> å³å­æ ‘ -> æ ¹èŠ‚ç‚¹
    postOrder(root.left);
    postOrder(root.right);
    list.add(root.val);
}
```

### äºŒå‰æœç´¢æ ‘ï¼ˆbinary search treeï¼‰

![äºŒå‰æœç´¢æ ‘](https://www.hello-algo.com/chapter_tree/binary_search_tree.assets/binary_search_tree.png)

1. å¯¹äºæ ¹èŠ‚ç‚¹ï¼Œå·¦å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ < æ ¹èŠ‚ç‚¹çš„å€¼ < å³å­æ ‘ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„å€¼ã€‚
2. ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œå³åŒæ ·æ»¡è¶³æ¡ä»¶ 1

```java
/* æŸ¥æ‰¾èŠ‚ç‚¹ */
TreeNode search(int num) {
    TreeNode cur = root;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // ç›®æ ‡èŠ‚ç‚¹åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // ç›®æ ‡èŠ‚ç‚¹åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else if (cur.val > num)
            cur = cur.left;
        // æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹ï¼Œè·³å‡ºå¾ªç¯
        else
            break;
    }
    // è¿”å›ç›®æ ‡èŠ‚ç‚¹
    return cur;
}

/* æ’å…¥èŠ‚ç‚¹ */
void insert(int num) {
    // è‹¥æ ‘ä¸ºç©ºï¼Œåˆ™åˆå§‹åŒ–æ ¹èŠ‚ç‚¹
    if (root == null) {
        root = new TreeNode(num);
        return;
    }
    TreeNode cur = root, pre = null;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // æ‰¾åˆ°é‡å¤èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›
        if (cur.val == num)
            return;
        pre = cur;
        // æ’å…¥ä½ç½®åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // æ’å…¥ä½ç½®åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else
            cur = cur.left;
    }
    // æ’å…¥èŠ‚ç‚¹
    TreeNode node = new TreeNode(num);
    if (pre.val < num)
        pre.right = node;
    else
        pre.left = node;
}

/* åˆ é™¤èŠ‚ç‚¹ */
void remove(int num) {
    // è‹¥æ ‘ä¸ºç©ºï¼Œç›´æ¥æå‰è¿”å›
    if (root == null)
        return;
    TreeNode cur = root, pre = null;
    // å¾ªç¯æŸ¥æ‰¾ï¼Œè¶Šè¿‡å¶èŠ‚ç‚¹åè·³å‡º
    while (cur != null) {
        // æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œè·³å‡ºå¾ªç¯
        if (cur.val == num)
            break;
        pre = cur;
        // å¾…åˆ é™¤èŠ‚ç‚¹åœ¨ cur çš„å³å­æ ‘ä¸­
        if (cur.val < num)
            cur = cur.right;
        // å¾…åˆ é™¤èŠ‚ç‚¹åœ¨ cur çš„å·¦å­æ ‘ä¸­
        else
            cur = cur.left;
    }
    // è‹¥æ— å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œåˆ™ç›´æ¥è¿”å›
    if (cur == null)
        return;
    // å­èŠ‚ç‚¹æ•°é‡ = 0 or 1
    if (cur.left == null || cur.right == null) {
        // å½“å­èŠ‚ç‚¹æ•°é‡ = 0 / 1 æ—¶ï¼Œ child = null / è¯¥å­èŠ‚ç‚¹
        TreeNode child = cur.left != null ? cur.left : cur.right;
        // åˆ é™¤èŠ‚ç‚¹ cur
        if (cur != root) {
            if (pre.left == cur)
                pre.left = child;
            else
                pre.right = child;
        } else {
            // è‹¥åˆ é™¤èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹ï¼Œåˆ™é‡æ–°æŒ‡å®šæ ¹èŠ‚ç‚¹
            root = child;
        }
    }
    // å­èŠ‚ç‚¹æ•°é‡ = 2
    else {
        // è·å–ä¸­åºéå†ä¸­ cur çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
        TreeNode tmp = cur.right;
        while (tmp.left != null) {
            tmp = tmp.left;
        }
        // é€’å½’åˆ é™¤èŠ‚ç‚¹ tmp
        remove(tmp.val);
        // ç”¨ tmp è¦†ç›– cur
        cur.val = tmp.val;
    }
}
```

**ä¸­åºéå†æœ‰åº**

![äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†åºåˆ—](https://www.hello-algo.com/chapter_tree/binary_search_tree.assets/bst_inorder_traversal.png)

## å †

å †ï¼ˆheapï¼‰æ˜¯ä¸€ç§æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å®Œå…¨äºŒå‰æ ‘ã€‚

![å°é¡¶å †ä¸å¤§é¡¶å †](https://www.hello-algo.com/chapter_heap/heap.assets/min_heap_and_max_heap.png)

- æˆ‘ä»¬å°†äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹ç§°ä¸ºâ€œå †é¡¶â€ï¼Œå°†åº•å±‚æœ€é å³çš„èŠ‚ç‚¹ç§°ä¸ºâ€œå †åº•â€ã€‚

**å †é€šå¸¸ç”¨äºå®ç°ä¼˜å…ˆé˜Ÿåˆ—**ï¼Œä¼˜å…ˆé˜Ÿåˆ—è§ä¸Šæ–‡ã€‚

### å †çš„å®ç°

![å †çš„è¡¨ç¤ºä¸å­˜å‚¨](https://www.hello-algo.com/chapter_heap/heap.assets/representation_of_heap.png)

```java
//  å †çš„å­˜å‚¨ä¸è¡¨ç¤º

/* è·å–å·¦å­èŠ‚ç‚¹çš„ç´¢å¼• */
int left(int i) {
    return 2 * i + 1;
}
/* è·å–å³å­èŠ‚ç‚¹çš„ç´¢å¼• */
int right(int i) {
    return 2 * i + 2;
}
/* è·å–çˆ¶èŠ‚ç‚¹çš„ç´¢å¼• */
int parent(int i) {
    return (i - 1) / 2; // å‘ä¸‹æ•´é™¤
}


/* è®¿é—®å †é¡¶å…ƒç´  */
int peek() {
    return maxHeap.get(0);
}


/* å…ƒç´ å…¥å † */
void push(int val) {
    // æ·»åŠ èŠ‚ç‚¹
    maxHeap.add(val);
    // ä»åº•è‡³é¡¶å †åŒ–
    siftUp(size() - 1);
}
/* ä»èŠ‚ç‚¹ i å¼€å§‹ï¼Œä»åº•è‡³é¡¶å †åŒ– */
void siftUp(int i) {
    while (true) {
        // è·å–èŠ‚ç‚¹ i çš„çˆ¶èŠ‚ç‚¹
        int p = parent(i);
        // å½“â€œè¶Šè¿‡æ ¹èŠ‚ç‚¹â€æˆ–â€œèŠ‚ç‚¹æ— é¡»ä¿®å¤â€æ—¶ï¼Œç»“æŸå †åŒ–
        if (p < 0 || maxHeap.get(i) <= maxHeap.get(p))
            break;
        // äº¤æ¢ä¸¤èŠ‚ç‚¹
        swap(i, p);
        // å¾ªç¯å‘ä¸Šå †åŒ–
        i = p;
    }
}


/* å…ƒç´ å‡ºå † */
int pop() {
    // åˆ¤ç©ºå¤„ç†
    if (isEmpty())
        throw new IndexOutOfBoundsException();
    // äº¤æ¢æ ¹èŠ‚ç‚¹ä¸æœ€å³å¶èŠ‚ç‚¹ï¼ˆäº¤æ¢é¦–å…ƒç´ ä¸å°¾å…ƒç´ ï¼‰
    swap(0, size() - 1);
    // åˆ é™¤èŠ‚ç‚¹
    int val = maxHeap.remove(size() - 1);
    // ä»é¡¶è‡³åº•å †åŒ–
    siftDown(0);
    // è¿”å›å †é¡¶å…ƒç´ 
    return val;
}
/* ä»èŠ‚ç‚¹ i å¼€å§‹ï¼Œä»é¡¶è‡³åº•å †åŒ– */
void siftDown(int i) {
    while (true) {
        // åˆ¤æ–­èŠ‚ç‚¹ i, l, r ä¸­å€¼æœ€å¤§çš„èŠ‚ç‚¹ï¼Œè®°ä¸º ma
        int l = left(i), r = right(i), ma = i;
        if (l < size() && maxHeap.get(l) > maxHeap.get(ma))
            ma = l;
        if (r < size() && maxHeap.get(r) > maxHeap.get(ma))
            ma = r;
        // è‹¥èŠ‚ç‚¹ i æœ€å¤§æˆ–ç´¢å¼• l, r è¶Šç•Œï¼Œåˆ™æ— é¡»ç»§ç»­å †åŒ–ï¼Œè·³å‡º
        if (ma == i)
            break;
        // äº¤æ¢ä¸¤èŠ‚ç‚¹
        swap(i, ma);
        // å¾ªç¯å‘ä¸‹å †åŒ–
        i = ma;
    }
}
```

### å»ºå †æ“ä½œ

1. å°†åˆ—è¡¨æ‰€æœ‰å…ƒç´ åŸå°ä¸åŠ¨åœ°æ·»åŠ åˆ°å †ä¸­ï¼Œæ­¤æ—¶å †çš„æ€§è´¨å°šæœªå¾—åˆ°æ»¡è¶³ã€‚
2. å€’åºéå†å †ï¼ˆå±‚åºéå†çš„å€’åºï¼‰ï¼Œä¾æ¬¡å¯¹æ¯ä¸ªéå¶èŠ‚ç‚¹æ‰§è¡Œâ€œä»é¡¶è‡³åº•å †åŒ–â€ã€‚

```java
/* æ„é€ æ–¹æ³•ï¼Œæ ¹æ®è¾“å…¥åˆ—è¡¨å»ºå † */
MaxHeap(List<Integer> nums) {
    // å°†åˆ—è¡¨å…ƒç´ åŸå°ä¸åŠ¨æ·»åŠ è¿›å †
    maxHeap = new ArrayList<>(nums);
    // å †åŒ–é™¤å¶èŠ‚ç‚¹ä»¥å¤–çš„å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹
    for (int i = parent(size() - 1); i >= 0; i--) {
        siftDown(i);
    }
}
```

## æœç´¢

![å¤šç§æœç´¢ç­–ç•¥](https://www.hello-algo.com/chapter_searching/searching_algorithm_revisited.assets/searching_algorithms.png)

### äºŒåˆ†æŸ¥æ‰¾

```java
/* äºŒåˆ†æŸ¥æ‰¾ï¼ˆåŒé—­åŒºé—´ï¼‰ */
int binarySearch(int[] nums, int target) {
    // åˆå§‹åŒ–åŒé—­åŒºé—´ [0, n-1] ï¼Œå³ i, j åˆ†åˆ«æŒ‡å‘æ•°ç»„é¦–å…ƒç´ ã€å°¾å…ƒç´ 
    int i = 0, j = nums.length - 1;
    // å¾ªç¯ï¼Œå½“æœç´¢åŒºé—´ä¸ºç©ºæ—¶è·³å‡ºï¼ˆå½“ i > j æ—¶ä¸ºç©ºï¼‰
    while (i <= j) {
        int m = i + (j - i) / 2; // è®¡ç®—ä¸­ç‚¹ç´¢å¼• mï¼Œä¸ä½¿ç”¨ (i+j)/2 å› ä¸º i+j å¯èƒ½ä¼šè¶…å‡º int ç±»å‹çš„å–å€¼èŒƒå›´
        if (nums[m] < target) // æ­¤æƒ…å†µè¯´æ˜ target åœ¨åŒºé—´ [m+1, j] ä¸­
            i = m + 1;
        else if (nums[m] > target) // æ­¤æƒ…å†µè¯´æ˜ target åœ¨åŒºé—´ [i, m-1] ä¸­
            j = m - 1;
        else // æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œè¿”å›å…¶ç´¢å¼•
            return m;
    }
    // æœªæ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œè¿”å› -1
    return -1;
}
```

### äºŒåˆ†æŸ¥æ‰¾æ’å…¥ç‚¹

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æœ‰åºæ•°ç»„ `nums` å’Œä¸€ä¸ªå…ƒç´  `target` ï¼Œæ•°ç»„ä¸å­˜åœ¨é‡å¤å…ƒç´ ã€‚ç°å°† `target` æ’å…¥æ•°ç»„ `nums` ä¸­ï¼Œå¹¶ä¿æŒå…¶æœ‰åºæ€§ã€‚è‹¥æ•°ç»„ä¸­å·²å­˜åœ¨å…ƒç´  `target` ï¼Œåˆ™æ’å…¥åˆ°å…¶å·¦æ–¹ã€‚è¯·è¿”å›æ’å…¥å `target` åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚

1. å½“æ•°ç»„åŒ…å« `target` æ—¶ï¼Œæ’å…¥ç‚¹çš„ç´¢å¼•å°±æ˜¯è¯¥ `target` çš„ç´¢å¼•ã€‚
2. å½“æ•°ç»„ä¸åŒ…å« target æ—¶ï¼Œæ’å…¥ç´¢å¼•ä¸º i ã€‚

```java
/* äºŒåˆ†æŸ¥æ‰¾æ’å…¥ç‚¹ï¼ˆæ— é‡å¤å…ƒç´ ï¼‰ */
int binarySearchInsertionSimple(int[] nums, int target) {
    int i = 0, j = nums.length - 1; // åˆå§‹åŒ–åŒé—­åŒºé—´ [0, n-1]
    while (i <= j) {
        int m = i + (j - i) / 2; // è®¡ç®—ä¸­ç‚¹ç´¢å¼• m
        if (nums[m] < target) {
            i = m + 1; // target åœ¨åŒºé—´ [m+1, j] ä¸­
        } else if (nums[m] > target) {
            j = m - 1; // target åœ¨åŒºé—´ [i, m-1] ä¸­
        } else {
            return m; // æ‰¾åˆ° target ï¼Œè¿”å›æ’å…¥ç‚¹ m
        }
    }
    // æœªæ‰¾åˆ° target ï¼Œè¿”å›æ’å…¥ç‚¹ i
    return i;
}
```

æ•°ç»„å¯èƒ½åŒ…å«é‡å¤å…ƒç´ 

æ™®é€šäºŒåˆ†æŸ¥æ‰¾åªèƒ½è¿”å›å…¶ä¸­ä¸€ä¸ª `target` çš„ç´¢å¼•ï¼Œ**è€Œæ— æ³•ç¡®å®šè¯¥å…ƒç´ çš„å·¦è¾¹å’Œå³è¾¹è¿˜æœ‰å¤šå°‘ `target`**ã€‚

- å½“ `nums[m] < target` æˆ– `nums[m] > target` æ—¶ï¼Œè¯´æ˜è¿˜æ²¡æœ‰æ‰¾åˆ° `target` ï¼Œå› æ­¤é‡‡ç”¨æ™®é€šäºŒåˆ†æŸ¥æ‰¾çš„ç¼©å°åŒºé—´æ“ä½œï¼Œ**ä»è€Œä½¿æŒ‡é’ˆ i å’Œ j å‘ `target` é è¿‘**ã€‚
- å½“ `nums[m] == target` æ—¶ï¼Œè¯´æ˜å°äº `target` çš„å…ƒç´ åœ¨åŒºé—´ [i,mâˆ’1] ä¸­ï¼Œå› æ­¤é‡‡ç”¨ j=mâˆ’1 æ¥ç¼©å°åŒºé—´ï¼Œ**ä»è€Œä½¿æŒ‡é’ˆ j å‘å°äº `target` çš„å…ƒç´ é è¿‘**ã€‚

å¾ªç¯å®Œæˆåï¼Œi æŒ‡å‘æœ€å·¦è¾¹çš„ `target` ï¼Œj æŒ‡å‘é¦–ä¸ªå°äº `target` çš„å…ƒç´ ï¼Œ**å› æ­¤ç´¢å¼• i å°±æ˜¯æ’å…¥ç‚¹**ã€‚

```java
/* äºŒåˆ†æŸ¥æ‰¾æ’å…¥ç‚¹ï¼ˆå­˜åœ¨é‡å¤å…ƒç´ ï¼‰ */
int binarySearchInsertion(int[] nums, int target) {
    int i = 0, j = nums.length - 1; // åˆå§‹åŒ–åŒé—­åŒºé—´ [0, n-1]
    while (i <= j) {
        int m = i + (j - i) / 2; // è®¡ç®—ä¸­ç‚¹ç´¢å¼• m
        if (nums[m] < target) {
            i = m + 1; // target åœ¨åŒºé—´ [m+1, j] ä¸­
        } else if (nums[m] > target) {
            j = m - 1; // target åœ¨åŒºé—´ [i, m-1] ä¸­
        } else {
            j = m - 1; // é¦–ä¸ªå°äº target çš„å…ƒç´ åœ¨åŒºé—´ [i, m-1] ä¸­
        }
    }
    // è¿”å›æ’å…¥ç‚¹ i
    return i;
}
```

### äºŒåˆ†æŸ¥æ‰¾è¾¹ç•Œ

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æœ‰åºæ•°ç»„ `nums` ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚

**æŸ¥æ‰¾å·¦è¾¹ç•Œ**

å’Œä¸Šä¸€ä¸ªæ€è·¯ä¸€æ ·

```java
/* äºŒåˆ†æŸ¥æ‰¾æœ€å·¦ä¸€ä¸ª target */
int binarySearchLeftEdge(int[] nums, int target) {
    // ç­‰ä»·äºæŸ¥æ‰¾ target çš„æ’å…¥ç‚¹
    int i = binary_search_insertion.binarySearchInsertion(nums, target);
    // æœªæ‰¾åˆ° target ï¼Œè¿”å› -1
    if (i == nums.length || nums[i] != target) {
        return -1;
    }
    // æ‰¾åˆ° target ï¼Œè¿”å›ç´¢å¼• i
    return i;
}
```

**æŸ¥æ‰¾å³è¾¹ç•Œ**

å¤ç”¨æŸ¥æ‰¾å·¦è¾¹ç•Œ

```java
/* äºŒåˆ†æŸ¥æ‰¾æœ€å³ä¸€ä¸ª target */
int binarySearchRightEdge(int[] nums, int target) {
    // è½¬åŒ–ä¸ºæŸ¥æ‰¾æœ€å·¦ä¸€ä¸ª target + 1
    int i = binary_search_insertion.binarySearchInsertion(nums, target + 1);
    // j æŒ‡å‘æœ€å³ä¸€ä¸ª target ï¼Œi æŒ‡å‘é¦–ä¸ªå¤§äº target çš„å…ƒç´ 
    int j = i - 1;
    // æœªæ‰¾åˆ° target ï¼Œè¿”å› -1
    if (j == -1 || nums[j] != target) {
        return -1;
    }
    // æ‰¾åˆ° target ï¼Œè¿”å›ç´¢å¼• j
    return j;
}
```

![å°†æŸ¥æ‰¾å³è¾¹ç•Œè½¬åŒ–ä¸ºæŸ¥æ‰¾å·¦è¾¹ç•Œ](https://www.hello-algo.com/chapter_searching/binary_search_edge.assets/binary_search_right_edge_by_left_edge.png)

**è½¬åŒ–ä¸ºæŸ¥æ‰¾å…ƒç´ **

æ„é€ ä¸€ä¸ªæ•°ç»„ä¸­ä¸å­˜åœ¨çš„å…ƒç´ ï¼Œç”¨äºæŸ¥æ‰¾å·¦å³è¾¹ç•Œã€‚

- æŸ¥æ‰¾æœ€å·¦ä¸€ä¸ª `target` ï¼šå¯ä»¥è½¬åŒ–ä¸ºæŸ¥æ‰¾ `target - 0.5` ï¼Œå¹¶è¿”å›æŒ‡é’ˆ i ã€‚
- æŸ¥æ‰¾æœ€å³ä¸€ä¸ª `target` ï¼šå¯ä»¥è½¬åŒ–ä¸ºæŸ¥æ‰¾ `target + 0.5` ï¼Œå¹¶è¿”å›æŒ‡é’ˆ j ã€‚

![å°†æŸ¥æ‰¾è¾¹ç•Œè½¬åŒ–ä¸ºæŸ¥æ‰¾å…ƒç´ ](https://www.hello-algo.com/chapter_searching/binary_search_edge.assets/binary_search_edge_by_element.png)

## æ’åº

ç†æƒ³çš„æ’åºç®—æ³•å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

- **ç¨³å®šæ€§**ï¼šç¨³å®šæ’åºåœ¨å®Œæˆæ’åºåï¼Œç›¸ç­‰å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ç›¸å¯¹é¡ºåºä¸å‘ç”Ÿæ”¹å˜ã€‚

```yaml
# è¾“å…¥æ•°æ®æ˜¯æŒ‰ç…§å§“åæ’åºå¥½çš„
# (name, age)
  ('A', 19)
  ('B', 18)
  ('C', 21)
  ('D', 19)
  ('E', 23)

# å‡è®¾ä½¿ç”¨éç¨³å®šæ’åºç®—æ³•æŒ‰å¹´é¾„æ’åºåˆ—è¡¨ï¼Œ
# ç»“æœä¸­ ('D', 19) å’Œ ('A', 19) çš„ç›¸å¯¹ä½ç½®æ”¹å˜ï¼Œ
# è¾“å…¥æ•°æ®æŒ‰å§“åæ’åºçš„æ€§è´¨ä¸¢å¤±
  ('B', 18)
  ('D', 19)
  ('A', 19)
  ('C', 21)
  ('E', 23)
```

- **å°±åœ°æ€§**ï¼šæ— é¡»å€ŸåŠ©é¢å¤–çš„è¾…åŠ©æ•°ç»„ï¼Œä»è€ŒèŠ‚çœå†…å­˜ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŸåœ°æ’åºçš„æ•°æ®æ¬è¿æ“ä½œè¾ƒå°‘ï¼Œè¿è¡Œé€Ÿåº¦ä¹Ÿæ›´å¿«ã€‚
- **è‡ªé€‚åº”æ€§**ï¼šèƒ½å¤Ÿåˆ©ç”¨è¾“å…¥æ•°æ®å·²æœ‰çš„é¡ºåºä¿¡æ¯æ¥å‡å°‘è®¡ç®—é‡ï¼Œè¾¾åˆ°æ›´ä¼˜çš„æ—¶é—´æ•ˆç‡ã€‚è‡ªé€‚åº”æ’åºç®—æ³•çš„æœ€ä½³æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¼˜äºå¹³å‡
- **æ˜¯å¦åŸºäºæ¯”è¾ƒ**ï¼šåŸºäºæ¯”è¾ƒçš„æ’åºä¾èµ–æ¯”è¾ƒè¿ç®—ç¬¦ï¼ˆ<ã€=ã€>ï¼‰æ¥åˆ¤æ–­å…ƒç´ çš„ç›¸å¯¹é¡ºåºï¼Œä»è€Œæ’åºæ•´ä¸ªæ•°ç»„ï¼Œç†è®ºæœ€ä¼˜æ—¶é—´å¤æ‚åº¦ä¸º O(nlogâ¡n) ã€‚è€Œéæ¯”è¾ƒæ’åºä¸ä½¿ç”¨æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œæ—¶é—´å¤æ‚åº¦å¯è¾¾ O(n) ï¼Œä½†å…¶é€šç”¨æ€§ç›¸å¯¹è¾ƒå·®ã€‚

![Picture2.png](https://pic.leetcode-cn.com/1629483637-tmENTT-Picture2.png)

### å†’æ³¡æ’åºï¼ˆbubble sortï¼‰

ä»æ•°ç»„æœ€å·¦ç«¯å¼€å§‹å‘å³éå†ï¼Œä¾æ¬¡æ¯”è¾ƒç›¸é‚»å…ƒç´ å¤§å°ï¼Œå¦‚æœâ€œå·¦å…ƒç´  > å³å…ƒç´ â€å°±äº¤æ¢äºŒè€…ã€‚éå†å®Œæˆåï¼Œæœ€å¤§çš„å…ƒç´ ä¼šè¢«ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ç«¯ã€‚æ¯æ¬¡éƒ½æˆåŠŸæ’å¥½ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥éœ€è¦å¾ªç¯n-1è½®ï¼Œæ¯è½®æ¯”è¾ƒn-iä¸ªæ•°ã€‚

```java
/* å†’æ³¡æ’åº */
void bubbleSort(int[] nums) {
    // å¤–å¾ªç¯ï¼šæœªæ’åºåŒºé—´ä¸º [0, i]
    for (int i = nums.length - 1; i > 0; i--) {
        // å†…å¾ªç¯ï¼šå°†æœªæ’åºåŒºé—´ [0, i] ä¸­çš„æœ€å¤§å…ƒç´ äº¤æ¢è‡³è¯¥åŒºé—´çš„æœ€å³ç«¯
        for (int j = 0; j < i; j++) {
            if (nums[j] > nums[j + 1]) {
                // äº¤æ¢ nums[j] ä¸ nums[j + 1]
                int tmp = nums[j];
                nums[j] = nums[j + 1];
                nums[j + 1] = tmp;
            }
        }
    }
}
```

**æ•ˆç‡ä¼˜åŒ–**ï¼šå¦‚æœæŸè½®â€œå†’æ³¡â€ä¸­æ²¡æœ‰æ‰§è¡Œä»»ä½•äº¤æ¢æ“ä½œï¼Œè¯´æ˜æ•°ç»„å·²ç»å®Œæˆæ’åºï¼Œå¯ç›´æ¥è¿”å›ç»“æœã€‚å› æ­¤ï¼Œå¯ä»¥å¢åŠ ä¸€ä¸ªæ ‡å¿—ä½ `flag` æ¥ç›‘æµ‹è¿™ç§æƒ…å†µï¼Œä¸€æ—¦å‡ºç°å°±ç«‹å³è¿”å›ã€‚

### å¿«é€Ÿæ’åºï¼ˆquick sortï¼‰

åŸºäºåˆ†æ²»ç­–ç•¥ã€‚

å¿«é€Ÿæ’åºçš„æ ¸å¿ƒæ“ä½œæ˜¯â€œå“¨å…µåˆ’åˆ†â€ï¼Œå…¶ç›®æ ‡æ˜¯ï¼šé€‰æ‹©æ•°ç»„ä¸­çš„æŸä¸ªå…ƒç´ ä½œä¸ºâ€œåŸºå‡†æ•°â€ï¼Œå°†æ‰€æœ‰å°äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å·¦ä¾§ï¼Œè€Œå¤§äºåŸºå‡†æ•°çš„å…ƒç´ ç§»åˆ°å…¶å³ä¾§ã€‚

1. é€‰å–æ•°ç»„æœ€å·¦ç«¯å…ƒç´ ä½œä¸ºåŸºå‡†æ•°ï¼Œåˆå§‹åŒ–ä¸¤ä¸ªæŒ‡é’ˆ `i` å’Œ `j` åˆ†åˆ«æŒ‡å‘æ•°ç»„çš„ä¸¤ç«¯ã€‚
2. è®¾ç½®ä¸€ä¸ªå¾ªç¯ï¼Œåœ¨æ¯è½®ä¸­ä½¿ç”¨ `i`ï¼ˆ`j`ï¼‰åˆ†åˆ«å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¯”åŸºå‡†æ•°å¤§ï¼ˆå°ï¼‰çš„å…ƒç´ ï¼Œç„¶åäº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ ã€‚
3. å¾ªç¯æ‰§è¡Œæ­¥éª¤ `2.` ï¼Œç›´åˆ° `i` å’Œ `j` ç›¸é‡æ—¶åœæ­¢ï¼Œæœ€åå°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤ä¸ªå­æ•°ç»„çš„åˆ†ç•Œçº¿ã€‚ï¼ˆåˆ†ç•Œçº¿çš„æ•°ä¸€å®šå°äºåŸºå‡†æ•°ï¼‰

å“¨å…µåˆ’åˆ†å®Œæˆåï¼ŒåŸæ•°ç»„è¢«åˆ’åˆ†æˆä¸‰éƒ¨åˆ†ï¼šå·¦å­æ•°ç»„ã€åŸºå‡†æ•°ã€å³å­æ•°ç»„ï¼Œä¸”æ»¡è¶³â€œå·¦å­æ•°ç»„ä»»æ„å…ƒç´  â‰¤ åŸºå‡†æ•° â‰¤ å³å­æ•°ç»„ä»»æ„å…ƒç´ â€ã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥åªéœ€å¯¹è¿™ä¸¤ä¸ªå­æ•°ç»„è¿›è¡Œæ’åºã€‚

> å“¨å…µåˆ’åˆ†çš„å®è´¨æ˜¯å°†ä¸€ä¸ªè¾ƒé•¿æ•°ç»„çš„æ’åºé—®é¢˜ç®€åŒ–ä¸ºä¸¤ä¸ªè¾ƒçŸ­æ•°ç»„çš„æ’åºé—®é¢˜ã€‚

```java
/* å…ƒç´ äº¤æ¢ */
void swap(int[] nums, int i, int j) {
    int tmp = nums[i];
    nums[i] = nums[j];
    nums[j] = tmp;
}

/* å“¨å…µåˆ’åˆ† */
int partition(int[] nums, int left, int right) {
    // ä»¥ nums[left] ä¸ºåŸºå‡†æ•°
    int i = left, j = right;
    while (i < j) {
        while (i < j && nums[j] >= nums[left])
            j--;          // ä»å³å‘å·¦æ‰¾é¦–ä¸ªå°äºåŸºå‡†æ•°çš„å…ƒç´ 
        while (i < j && nums[i] <= nums[left])
            i++;          // ä»å·¦å‘å³æ‰¾é¦–ä¸ªå¤§äºåŸºå‡†æ•°çš„å…ƒç´ 
        swap(nums, i, j); // äº¤æ¢è¿™ä¸¤ä¸ªå…ƒç´ 
    }
    swap(nums, i, left);  // å°†åŸºå‡†æ•°äº¤æ¢è‡³ä¸¤å­æ•°ç»„çš„åˆ†ç•Œçº¿
    return i;             // è¿”å›åŸºå‡†æ•°çš„ç´¢å¼•
}

/* å¿«é€Ÿæ’åº */
void quickSort(int[] nums, int left, int right) {
    // å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’
    if (left >= right)
        return;
    // å“¨å…µåˆ’åˆ†
    int pivot = partition(nums, left, right);
    // é€’å½’å·¦å­æ•°ç»„ã€å³å­æ•°ç»„
    quickSort(nums, left, pivot - 1);
    quickSort(nums, pivot + 1, right);
}
```

**åŸºå‡†æ•°ä¼˜åŒ–**:éšæœºé€‰å–ä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†æ•°ã€‚æˆ–è€…ä¸ºäº†è¿›ä¸€æ­¥æ”¹è¿›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ•°ç»„ä¸­é€‰å–ä¸‰ä¸ªå€™é€‰å…ƒç´ ï¼ˆé€šå¸¸ä¸ºæ•°ç»„çš„é¦–ã€å°¾ã€ä¸­ç‚¹å…ƒç´ ï¼‰ï¼Œå¹¶å°†è¿™ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„**ä¸­ä½æ•°**ä½œä¸ºåŸºå‡†æ•°ã€‚

```java
/* é€‰å–ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„ä¸­ä½æ•° */
int medianThree(int[] nums, int left, int mid, int right) {
    int l = nums[left], m = nums[mid], r = nums[right];
    if ((l <= m && m <= r) || (r <= m && m <= l))
        return mid; // m åœ¨ l å’Œ r ä¹‹é—´
    if ((m <= l && l <= r) || (r <= l && l <= m))
        return left; // l åœ¨ m å’Œ r ä¹‹é—´
    return right;
}

/* å“¨å…µåˆ’åˆ†ï¼ˆä¸‰æ•°å–ä¸­å€¼ï¼‰ */
int partition(int[] nums, int left, int right) {
    // é€‰å–ä¸‰ä¸ªå€™é€‰å…ƒç´ çš„ä¸­ä½æ•°
    int med = medianThree(nums, left, (left + right) / 2, right);
    // å°†ä¸­ä½æ•°äº¤æ¢è‡³æ•°ç»„æœ€å·¦ç«¯
    swap(nums, left, med);
    ...
}
```

**å°¾é€’å½’ä¼˜åŒ–**ï¼šåœ¨æŸäº›è¾“å…¥ä¸‹ï¼Œå¿«é€Ÿæ’åºå¯èƒ½å ç”¨ç©ºé—´è¾ƒå¤šã€‚ä¾‹å¦‚åœ¨è¾“å…¥æ•°ç»„å®Œå…¨å€’åºæ—¶ï¼Œé€’å½’æ·±åº¦ä¼šè¾¾åˆ° Nï¼Œå³ æœ€å·®ç©ºé—´å¤æ‚åº¦ ä¸º O(N)ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ¯è½®å“¨å…µæ’åºå®Œæˆåï¼Œæ¯”è¾ƒä¸¤ä¸ªå­æ•°ç»„çš„é•¿åº¦ï¼Œ**ä»…å¯¹è¾ƒçŸ­çš„å­æ•°ç»„è¿›è¡Œé€’å½’**ã€‚ç”±äºè¾ƒçŸ­å­æ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ n/2 ï¼Œå› æ­¤è¿™ç§æ–¹æ³•èƒ½ç¡®ä¿é€’å½’æ·±åº¦ä¸è¶…è¿‡ logâ¡n ï¼Œä»è€Œå°†æœ€å·®ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–è‡³ O(logâ¡n) ã€‚

```java
/* å¿«é€Ÿæ’åºï¼ˆå°¾é€’å½’ä¼˜åŒ–ï¼‰ */
void quickSort(int[] nums, int left, int right) {
    // å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢
    while (left < right) {
        // å“¨å…µåˆ’åˆ†æ“ä½œ
        int pivot = partition(nums, left, right);
        // å¯¹ä¸¤ä¸ªå­æ•°ç»„ä¸­è¾ƒçŸ­çš„é‚£ä¸ªæ‰§è¡Œå¿«é€Ÿæ’åº
        if (pivot - left < right - pivot) {
            quickSort(nums, left, pivot - 1); // é€’å½’æ’åºå·¦å­æ•°ç»„
            left = pivot + 1; // å‰©ä½™æœªæ’åºåŒºé—´ä¸º [pivot + 1, right]
        } else {
            quickSort(nums, pivot + 1, right); // é€’å½’æ’åºå³å­æ•°ç»„
            right = pivot - 1; // å‰©ä½™æœªæ’åºåŒºé—´ä¸º [left, pivot - 1]
        }
    }
}
```

### å½’å¹¶æ’åºï¼ˆmerge sortï¼‰

æ˜¯ä¸€ç§åŸºäºåˆ†æ²»ç­–ç•¥çš„æ’åºç®—æ³•ã€‚

1. **åˆ’åˆ†é˜¶æ®µ**ï¼šé€šè¿‡é€’å½’ä¸æ–­åœ°å°†æ•°ç»„ä»ä¸­ç‚¹å¤„åˆ†å¼€ï¼Œå°†é•¿æ•°ç»„çš„æ’åºé—®é¢˜è½¬æ¢ä¸ºçŸ­æ•°ç»„çš„æ’åºé—®é¢˜ã€‚
2. **åˆå¹¶é˜¶æ®µ**ï¼šå½“å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢åˆ’åˆ†ï¼Œå¼€å§‹åˆå¹¶ï¼ŒæŒç»­åœ°å°†å·¦å³ä¸¤ä¸ªè¾ƒçŸ­çš„æœ‰åºæ•°ç»„åˆå¹¶ä¸ºä¸€ä¸ªè¾ƒé•¿çš„æœ‰åºæ•°ç»„ï¼Œç›´è‡³ç»“æŸã€‚

![å½’å¹¶æ’åºçš„åˆ’åˆ†ä¸åˆå¹¶é˜¶æ®µ](https://www.hello-algo.com/chapter_sorting/merge_sort.assets/merge_sort_overview.png)

```java
/* åˆå¹¶å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„ */
void merge(int[] nums, int left, int mid, int right) {
    // å·¦å­æ•°ç»„åŒºé—´ä¸º [left, mid], å³å­æ•°ç»„åŒºé—´ä¸º [mid+1, right]
    // åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ tmp ï¼Œç”¨äºå­˜æ”¾åˆå¹¶åçš„ç»“æœ
    int[] tmp = new int[right - left + 1];
    // åˆå§‹åŒ–å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•
    int i = left, j = mid + 1, k = 0;
    // å½“å·¦å³å­æ•°ç»„éƒ½è¿˜æœ‰å…ƒç´ æ—¶ï¼Œè¿›è¡Œæ¯”è¾ƒå¹¶å°†è¾ƒå°çš„å…ƒç´ å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
    while (i <= mid && j <= right) {
        if (nums[i] <= nums[j])
            tmp[k++] = nums[i++];
        else
            tmp[k++] = nums[j++];
    }
    // å°†å·¦å­æ•°ç»„å’Œå³å­æ•°ç»„çš„å‰©ä½™å…ƒç´ å¤åˆ¶åˆ°ä¸´æ—¶æ•°ç»„ä¸­
    while (i <= mid) {
        tmp[k++] = nums[i++];
    }
    while (j <= right) {
        tmp[k++] = nums[j++];
    }
    // å°†ä¸´æ—¶æ•°ç»„ tmp ä¸­çš„å…ƒç´ å¤åˆ¶å›åŸæ•°ç»„ nums çš„å¯¹åº”åŒºé—´
    for (k = 0; k < tmp.length; k++) {
        nums[left + k] = tmp[k];
    }
}

/* å½’å¹¶æ’åº */
void mergeSort(int[] nums, int left, int right) {
    // ç»ˆæ­¢æ¡ä»¶
    if (left >= right)
        return; // å½“å­æ•°ç»„é•¿åº¦ä¸º 1 æ—¶ç»ˆæ­¢é€’å½’
    // åˆ’åˆ†é˜¶æ®µ
    int mid = left + (right - left) / 2; // è®¡ç®—ä¸­ç‚¹
    mergeSort(nums, left, mid); // é€’å½’å·¦å­æ•°ç»„
    mergeSort(nums, mid + 1, right); // é€’å½’å³å­æ•°ç»„
    // åˆå¹¶é˜¶æ®µ
    merge(nums, left, mid, right);
}
```

å¯¹äºé“¾è¡¨ï¼Œå½’å¹¶æ’åºç›¸è¾ƒäºå…¶ä»–æ’åºç®—æ³•å…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œ**å¯ä»¥å°†é“¾è¡¨æ’åºä»»åŠ¡çš„ç©ºé—´å¤æ‚åº¦ä¼˜åŒ–è‡³ O(1)** ã€‚

- **åˆ’åˆ†é˜¶æ®µ**ï¼šå¯ä»¥ä½¿ç”¨â€œè¿­ä»£â€æ›¿ä»£â€œé€’å½’â€æ¥å®ç°é“¾è¡¨åˆ’åˆ†å·¥ä½œï¼Œä»è€Œçœå»é€’å½’ä½¿ç”¨çš„æ ˆå¸§ç©ºé—´ã€‚
- **åˆå¹¶é˜¶æ®µ**ï¼šåœ¨é“¾è¡¨ä¸­ï¼ŒèŠ‚ç‚¹å¢åˆ æ“ä½œä»…éœ€æ”¹å˜å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å³å¯å®ç°ï¼Œå› æ­¤åˆå¹¶é˜¶æ®µï¼ˆå°†ä¸¤ä¸ªçŸ­æœ‰åºé“¾è¡¨åˆå¹¶ä¸ºä¸€ä¸ªé•¿æœ‰åºé“¾è¡¨ï¼‰æ— é¡»åˆ›å»ºé¢å¤–é“¾è¡¨ã€‚

## å›æº¯

åº¦ä¼˜å…ˆæœç´¢ç®—æ³•

å°è¯•ã€å›é€€ã€å‰ªæ

`state` è¡¨ç¤ºé—®é¢˜çš„å½“å‰çŠ¶æ€ï¼Œ`choices` è¡¨ç¤ºå½“å‰çŠ¶æ€ä¸‹å¯ä»¥åšå‡ºçš„é€‰æ‹©ï¼š

```java
/* å›æº¯ç®—æ³•æ¡†æ¶ */
void backtrack(State state, List<Choice> choices, List<State> res) {
    // åˆ¤æ–­æ˜¯å¦ä¸ºè§£
    if (isSolution(state)) {
        // è®°å½•è§£
        recordSolution(state, res);
        // ä¸å†ç»§ç»­æœç´¢
        return;
    }
    // éå†æ‰€æœ‰é€‰æ‹©
    for (Choice choice : choices) {
        // å‰ªæï¼šåˆ¤æ–­é€‰æ‹©æ˜¯å¦åˆæ³•
        if (isValid(state, choice)) {
            // å°è¯•ï¼šåšå‡ºé€‰æ‹©ï¼Œæ›´æ–°çŠ¶æ€
            makeChoice(state, choice);
            backtrack(state, choices, res);
            // å›é€€ï¼šæ’¤é”€é€‰æ‹©ï¼Œæ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
            undoChoice(state, choice);
        }
    }
}
```

> å¤šæ³¨æ„å›é€€

## åˆ†æ²»

åˆ†æ²»é€šå¸¸åŸºäºé€’å½’å®ç°ï¼ŒåŒ…æ‹¬â€œåˆ†â€å’Œâ€œæ²»â€ä¸¤ä¸ªæ­¥éª¤ã€‚

1. **åˆ†ï¼ˆåˆ’åˆ†é˜¶æ®µï¼‰**ï¼šé€’å½’åœ°å°†åŸé—®é¢˜åˆ†è§£ä¸ºä¸¤ä¸ªæˆ–å¤šä¸ªå­é—®é¢˜ï¼Œç›´è‡³åˆ°è¾¾æœ€å°å­é—®é¢˜æ—¶ç»ˆæ­¢ã€‚
2. **æ²»ï¼ˆåˆå¹¶é˜¶æ®µï¼‰**ï¼šä»å·²çŸ¥è§£çš„æœ€å°å­é—®é¢˜å¼€å§‹ï¼Œä»åº•è‡³é¡¶åœ°å°†å­é—®é¢˜çš„è§£è¿›è¡Œåˆå¹¶ï¼Œä»è€Œæ„å»ºå‡ºåŸé—®é¢˜çš„è§£ã€‚

å¸¸è§ç®—æ³•ï¼šäºŒåˆ†æŸ¥æ‰¾ã€å½’å¹¶æ’åºã€å¿«é€Ÿæ’åºã€æ¡¶æ’åºã€æ ‘ã€å †ã€å“ˆå¸Œè¡¨

åˆ¤æ–­æ˜¯å¦æ˜¯åˆ†æ²»ç®—æ³•é—®é¢˜çš„ä¾æ®åŒ…æ‹¬ï¼šé—®é¢˜èƒ½å¦åˆ†è§£ã€å­é—®é¢˜æ˜¯å¦ç‹¬ç«‹ã€å­é—®é¢˜èƒ½å¦åˆå¹¶ã€‚

## åŠ¨æ€è§„åˆ’

é€‚ç”¨äºå¯ä»¥ç©·ä¸¾è§£å†³ï¼ŒçŠ¶æ€ä¹‹é—´æœ‰å…³è”ï¼Œæ±‚çš„æ˜¯æœ€ä¼˜è€Œä¸æ˜¯å…¨éƒ¨æ–¹æ¡ˆã€‚

ç‰¹ç‚¹ï¼š

1. **é‡å å­é—®é¢˜**
2. **æœ€ä¼˜å­ç»“æ„**ï¼šåŸé—®é¢˜çš„æœ€ä¼˜è§£æ˜¯ä»å­é—®é¢˜çš„æœ€ä¼˜è§£æ„å»ºå¾—æ¥çš„ã€‚
3. **æ— åæ•ˆæ€§**ï¼šç»™å®šä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå®ƒçš„æœªæ¥å‘å±•åªä¸å½“å‰çŠ¶æ€æœ‰å…³ï¼Œè€Œä¸è¿‡å»ç»å†çš„æ‰€æœ‰çŠ¶æ€æ— å…³ã€‚

æ±‚è§£æ­¥éª¤ï¼š

1. æ€è€ƒæ¯è½®çš„å†³ç­–ï¼Œå®šä¹‰çŠ¶æ€ï¼Œä»è€Œå¾—åˆ° dp è¡¨
2. æ‰¾å‡ºæœ€ä¼˜å­ç»“æ„ï¼Œè¿›è€Œæ¨å¯¼å‡ºçŠ¶æ€è½¬ç§»æ–¹ç¨‹
3. ç¡®å®šè¾¹ç•Œæ¡ä»¶å’ŒçŠ¶æ€è½¬ç§»é¡ºåº

## è´ªå¿ƒ

åœ¨é—®é¢˜çš„æ¯ä¸ªå†³ç­–é˜¶æ®µï¼Œéƒ½é€‰æ‹©å½“å‰çœ‹èµ·æ¥æœ€ä¼˜çš„é€‰æ‹©ï¼Œå³è´ªå¿ƒåœ°åšå‡ºå±€éƒ¨æœ€ä¼˜çš„å†³ç­–ï¼Œä»¥æœŸè·å¾—å…¨å±€æœ€ä¼˜è§£ã€‚

- **è´ªå¿ƒé€‰æ‹©æ€§è´¨**ï¼šåªæœ‰å½“å±€éƒ¨æœ€ä¼˜é€‰æ‹©å§‹ç»ˆå¯ä»¥å¯¼è‡´å…¨å±€æœ€ä¼˜è§£æ—¶ï¼Œè´ªå¿ƒç®—æ³•æ‰èƒ½ä¿è¯å¾—åˆ°æœ€ä¼˜è§£ã€‚
- **æœ€ä¼˜å­ç»“æ„**ï¼šåŸé—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£ã€‚
